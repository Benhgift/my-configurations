#!/bin/zsh
# ---------------------------------------------------------------
alias gd="git diff"
alias gs="git status"
alias gt="git tag"
alias gtl="git tag -l"
alias grso="git remote show origin"
alias gcf="git config --list"
alias gclone="sh $HOME/.myconfigurations/software/git/shell-scripts/clone.sh"
alias gpot="git push origin --tags"
alias gpt="git push --tags"
alias gl="git log --show-notes"
alias glt="git log --graph --oneline --all"
alias gltp="git log --graph --all --decorate"
alias gfi="git flow init"
alias gf="git flow"
alias gfh="git flow help"

function grpo() {
  git pull;
  git remote prune origin;
  git branch -r | awk '{print $1}' | egrep -v -f /dev/fd/0 <(git branch -vv | grep origin) | awk '{print $1}' | xargs git branch -d;
}

function gp() {
  git pull;
  git pull --tags;
  git status;
}

function gct() {
  git tag "$*";
  git push origin --tags;
  git tag -l;
  git status;
}

function gc() {
  git add . -A;
  git commit -m "$*";
  git push;
  git status;
}

function gcl() {
  git add . -A;
  git commit -m "$*";
  git status;
}

function gpo() {
  git push;
  git status;
}

function gcb() {
  git pull;
  git checkout -b "$*";
  git push -u origin "$*";
  git push --set-upstream origin "$*";
  git status;
}

function gck() {
  git checkout "$*";
  git pull;
  git status;
}

function gm() {
  git pull;
  git merge "$*" --no-ff;
  git push;
  git status;
}

function gmdb() {
  git pull
  git merge "$*" --no-ff;
  git push;
  git push --delete origin "$*";
  git remote prune origin
  git branch -D "$*";
  git status;
}

function gdbf() {
  git pull
  git push --delete origin "$*";
  git remote prune origin
  git branch -D "$*";
  git status;
}

function gmt() {
  git pull;
  git merge "$*" -X theirs;
  git push;
  git status;
}

function gdb() {
  git branch -D "$*";
  git remote prune origin
  git status;
}

function gdbf() {
  git branch -D "$*";
  git push --delete origin "$*";
  git remote prune origin
  git status;
}

function gpsvn() {
  find . -name .svn  -type d -print0 |xargs -0 rm -rf
}

function gk() {touch .keep}

function gkf() {
  mkdir "$*";
  touch "$*/.keep";
}

function gcmd() {
  touch readme.md;
  open readme.md;
}

function gdt() {
  git tag -d "$*";
  git push origin :refs/tags/"$*";
}

function gfcb() {
  param1=$1:l
  param2=$2:l
  echo "git subcommand:" $param1
  echo "branch name:" $param2
  spacer
  git flow $param1 start $param2
  git flow $param1 publish $param2
}

function gfmb() {
  param1=$1:l
  param2=$2:l
  echo "git subcommand:" $param1
  echo "branch name:" $param2
  spacer
  git flow $param1 finish $param2
}
